<div class="search-container">
	<div class="search-container-absolute">
		<div class="search">
			<fa-icon [icon]="['fas', 'search']"></fa-icon>
			<input
				#searchInput
				appAutoType
				appSelectOnFocus
				placeholder="{{ placeholder }}"
				[(ngModel)]="search"
				(keydown.arrowdown)="onArrowDownKey($event)"
				(keydown.arrowup)="onArrowUpKey($event)"
				(keyup.enter)="onEnterKey($event)"
				(keyup.esc)="onEscKey($event)"
				(focus)="showItems = true"
				(focusout)="showItems = false"
				autofocus
			/>
		</div>
		<div
			*ngIf="showItems && (quantity > 1 || result.length > 0)"
			class="result"
		>
			<div *ngIf="quantity > 1" class="result-header">
				<strong>{{ quantity }}</strong> items of<span
					*ngIf="result.length <= 0"
					>...</span
				>
			</div>
			<ul class="list">
				<li
					class="item"
					(click)="onItemClick(item)"
					[class.selected]="i === selectedIndex"
					[appScrollIntoView]="i === selectedIndex"
					*ngFor="let item of result; index as i"
				>
					<ng-container
						select=".search-result-template"
						*ngTemplateOutlet="
							searchResultTemplate;
							context: { $implicit: item }
						"
					>
					</ng-container>
				</li>
			</ul>
		</div>
	</div>
</div>
